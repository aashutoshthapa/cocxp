<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Clash of Clans XP Calculator - Player & Clan Level Estimator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Calculate the total XP needed to reach your target player level or clan level in Clash of Clans. Estimate the hours or number of wars required to level up with this easy-to-use XP calculator.">
  <meta name="keywords" content="Clash of Clans, CoC, XP calculator, player level, clan level, player XP, clan XP, level up, CoC calculator, how to level up fast, Clash of Clans guide">
  <link rel="canonical" href="https://yourwebsite.com/clash-of-clans-xp-calculator">

  <meta property="og:title" content="Clash of Clans XP Calculator - Player & Clan Level Estimator">
  <meta property="og:description" content="Calculate the total XP needed to reach your target player level or clan level in Clash of Clans. Estimate the hours or number of wars required to level up with this easy-to-use XP calculator.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourwebsite.com/clash-of-clans-xp-calculator">
  <meta property="og:image" content="https://yourwebsite.com/images/coc-xp-calculator-share-image.jpg">
  <meta property="og:image:alt" content="Clash of Clans XP Calculator UI showing input fields for player and clan levels">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Clash of Clans XP Calculator - Player & Clan Level Estimator">
  <meta name="twitter:description" content="Calculate the total XP needed to reach your target player level or clan level in Clash of Clans. Estimate the hours or number of wars required to level up with this easy-to-use XP calculator.">
  <meta name="twitter:image" content="https://yourwebsite.com/images/coc-xp-calculator-share-image.jpg">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 10px;
    }
    .container {
      background: white;
      padding: 20px 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 400px;
      box-sizing: border-box;
    }
    h1, h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #333;
    }
    h1 {
      font-size: 28px;
    }
    h2 {
      font-size: 24px;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
      font-size: 16px;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background: #0077ff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background: #005fcc;
    }
    .result {
      margin-top: 20px;
      font-size: 16px;
      text-align: center;
      color: #333;
      line-height: 1.5;
      word-break: break-word;
    }
    .result b {
      color: #0077ff;
    }
    #showBreakdown, #collapseBreakdown {
      background: #00aaff;
      margin-top: 10px;
    }
    #showBreakdown:hover, #collapseBreakdown:hover {
      background: #0088cc;
    }
    .credit {
      margin-top: 30px;
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid #eee;
      color: #666;
      font-size: 14px;
    }
    .credit a {
      color: #5865F2;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }
    .credit a:hover {
      text-decoration: underline;
    }
    .toggle-buttons {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .toggle-btn {
      padding: 10px 20px;
      background-color: #e0e0e0;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin: 0 5px;
      transition: background-color 0.3s ease;
    }
    .toggle-btn.active {
      background-color: #0077ff;
      color: white;
    }
    .toggle-btn:hover {
      background-color: #d0d0d0;
    }
    
    /* SEO-friendly H2 headings for content sections */
    #playerCalculator h2, #clanCalculator h2 {
      display: none; /* Hide the headings visually but keep them for SEO */
    }
    
  </style>
</head>
<body>
  <div class="container">
    <h1>Clash of Clans XP Calculator</h1>
    
    <p style="text-align: center; color: #666;">Estimate the XP and time needed to level up your player or clan.</p>

    <div class="toggle-buttons">
      <button id="playerBtn" class="toggle-btn active" onclick="toggleCalculator('player')">Player XP</button>
      <button id="clanBtn" class="toggle-btn" onclick="toggleCalculator('clan')">Clan XP</button>
    </div>
    
    <div id="playerCalculator">
      <h2>Player Level XP Calculator</h2>
      <label for="currentLevel">Current Player Level</label>
    <input type="number" id="currentLevel" min="1" placeholder="e.g. 257">

    <label for="targetLevel">Target Player Level</label>
    <input type="number" id="targetLevel" min="2" placeholder="e.g. 300">

    <label for="xpPerHour">Estimated XP per Hour (Optional)</label>
    <input type="number" id="xpPerHour" min="1" placeholder="e.g. 5000">

    <button onclick="calculateXP()">Calculate Player XP</button>

    <div class="result" id="result"></div>

    <button id="showBreakdown" style="display:none;" onclick="showBreakdown()">Show Level Breakdown</button>
    <button id="collapseBreakdown" style="display:none;" onclick="collapseBreakdown()">Collapse</button>
    <div class="result" id="breakdown"></div>
    </div>
    
    <div id="clanCalculator" style="display: none;">
      <h2>Clan Level XP Calculator</h2>
      <label for="currentClanLevel">Current Clan Level</label>
      <input type="number" id="currentClanLevel" min="1" max="50" placeholder="e.g. 18">

      <label for="targetClanLevel">Target Clan Level</label>
      <input type="number" id="targetClanLevel" min="2" max="51" placeholder="e.g. 20">

      <label for="currentClanXP">Current XP Progress (Optional)</label>
      <input type="number" id="currentClanXP" min="0" placeholder="e.g. 1000">

      <label for="xpPerWar">Estimated XP per War</label>
      <input type="number" id="xpPerWar" min="1" placeholder="e.g. 500">

      <button onclick="calculateClanXP()">Calculate Clan XP</button>

      <div class="result" id="clanResult"></div>
    </div>
    
    <div class="credit">
      <p>Have questions or suggestions?</p>
      <a href="https://www.reddit.com/user/Sensitive_Theory9360/" class="contact-link" target="_blank">
        <i class="fa-brands fa-reddit"></i>
        @Sensitive_Theory9360
      </a>
    </div>

  <script>
    let breakdownData = "";

    function xpForLevel(level) {
      if (level === 1) return 30;
      if (level >= 2 && level <= 200) return 50 * (level - 1);
      if (level >= 201 && level <= 299) return 500 * (level - 200) + 9500;
      if (level >= 300) return 1000 * (level - 300) + 60000;
      return 0;
    }

    function calculateXP() {
      const current = parseInt(document.getElementById("currentLevel").value);
      const target = parseInt(document.getElementById("targetLevel").value);
      const xpRate = parseInt(document.getElementById("xpPerHour").value);
      const resultDiv = document.getElementById("result");
      const breakdownButton = document.getElementById("showBreakdown");
      const collapseButton = document.getElementById("collapseBreakdown");
      const breakdownDiv = document.getElementById("breakdown");

      breakdownDiv.innerHTML = "";
      breakdownButton.style.display = "none";
      collapseButton.style.display = "none";
      breakdownData = "";

      if (isNaN(current) || isNaN(target) || current < 1 || target <= current) {
        resultDiv.innerHTML = "⚠️ Please enter valid current and target levels.";
        return;
      }

      let totalXP = 0;
      for (let lvl = current; lvl < target; lvl++) {
        let xpNext = xpForLevel(lvl);
        totalXP += xpNext;
        breakdownData += `Level ${lvl} → ${lvl + 1}: ${xpNext.toLocaleString()} XP<br>`;
      }

      let hoursRequired = (xpRate > 0) ? (totalXP / xpRate).toFixed(2) : "N/A";

      resultDiv.innerHTML = `
        Total XP needed: <b>${totalXP.toLocaleString()}</b><br>
        Estimated hours to reach target: <b>${hoursRequired}</b>
      `;

      breakdownButton.style.display = "block";
    }

    function showBreakdown() {
      document.getElementById("breakdown").innerHTML = breakdownData;
      document.getElementById("collapseBreakdown").style.display = "block";
    }

    function collapseBreakdown() {
      document.getElementById("breakdown").innerHTML = "";
      document.getElementById("collapseBreakdown").style.display = "none";
    }

    function toggleCalculator(type) {
      const playerCalculator = document.getElementById('playerCalculator');
      const clanCalculator = document.getElementById('clanCalculator');
      const playerBtn = document.getElementById('playerBtn');
      const clanBtn = document.getElementById('clanBtn');
      
      if (type === 'player') {
        playerCalculator.style.display = 'block';
        clanCalculator.style.display = 'none';
        playerBtn.classList.add('active');
        clanBtn.classList.remove('active');
      } else if (type === 'clan') {
        playerCalculator.style.display = 'none';
        clanCalculator.style.display = 'block';
        playerBtn.classList.remove('active');
        clanBtn.classList.add('active');
      }
      
      // Clear previous results
      document.getElementById("result").innerHTML = "";
      document.getElementById("breakdown").innerHTML = "";
      document.getElementById("showBreakdown").style.display = "none";
      document.getElementById("collapseBreakdown").style.display = "none";
      document.getElementById("clanResult").innerHTML = "";
    }

    // Clan XP data
    const clanXPData = {
      2: 500, 3: 1200, 4: 1900, 5: 3100, 6: 3800, 7: 4500, 8: 5200, 9: 5900, 10: 7900,
      11: 8600, 12: 9300, 13: 10000, 14: 10700, 15: 15700, 16: 16400, 17: 17100, 18: 17800, 19: 18500, 20: 23500,
      21: 24200, 22: 24900, 23: 25600, 24: 26300, 25: 31300, 26: 32000, 27: 32700, 28: 33400, 29: 34100, 30: 39100,
      31: 39800, 32: 40500, 33: 41200, 34: 41900, 35: 46900, 36: 47600, 37: 48300, 38: 49000, 39: 49700, 40: 54700,
      41: 55400, 42: 56100, 43: 56800, 44: 57500, 45: 62500, 46: 63200, 47: 63900, 48: 64600, 49: 65300, 50: 70300,
      51: 71000
    };

    function calculateClanXP() {
      const currentLevel = parseInt(document.getElementById("currentClanLevel").value);
      const targetLevel = parseInt(document.getElementById("targetClanLevel").value);
      const currentXP = parseInt(document.getElementById("currentClanXP").value) || 0;
      const xpPerWar = parseInt(document.getElementById("xpPerWar").value);
      const resultDiv = document.getElementById("clanResult");

      if (isNaN(currentLevel) || isNaN(targetLevel) || currentLevel < 1 || targetLevel <= currentLevel) {
        resultDiv.innerHTML = "⚠️ Please enter valid current and target clan levels.";
        return;
      }

      if (targetLevel > 51) {
        resultDiv.innerHTML = "⚠️ Maximum clan level is 51.";
        return;
      }

      let totalXPNeeded = 0;
      let breakdown = "";

      // Calculate XP needed for each level
      for (let level = currentLevel; level < targetLevel; level++) {
        if (clanXPData[level + 1]) {
          let xpForNextLevel = clanXPData[level + 1];
          totalXPNeeded += xpForNextLevel;
          breakdown += `Level ${level} → ${level + 1}: ${xpForNextLevel.toLocaleString()} XP<br>`;
        }
      }

      // Subtract current XP progress
      let remainingXP = totalXPNeeded - currentXP;
      if (remainingXP < 0) remainingXP = 0;

      let warsRequired = (xpPerWar > 0) ? Math.ceil(remainingXP / xpPerWar) : "N/A";

      resultDiv.innerHTML = `
        <div style="margin-bottom: 15px;">
          <strong>Total XP needed:</strong> ${totalXPNeeded.toLocaleString()}<br>
          <strong>Current XP progress:</strong> ${currentXP.toLocaleString()}<br>
          <strong>Remaining XP:</strong> ${remainingXP.toLocaleString()}<br>
          <strong>Estimated wars needed:</strong> ${warsRequired}
        </div>
        <button onclick="showClanBreakdown()" style="background: #00aaff; margin-top: 10px;">Show Level Breakdown</button>
        <div id="clanBreakdown" style="margin-top: 15px; display: none;"></div>
      `;

      // Store breakdown data
      window.clanBreakdownData = breakdown;
    }

    function showClanBreakdown() {
      const breakdownDiv = document.getElementById("clanBreakdown");
      breakdownDiv.innerHTML = window.clanBreakdownData;
      breakdownDiv.style.display = "block";
    }

    // Initialize calculator on page load
    document.addEventListener('DOMContentLoaded', () => {
      toggleCalculator('player'); // Default to player calculator
    });
  </script>
</body>
</html>